<!DOCTYPE html>
<html>
    <head>
        <title>User Settings - Note Taking App</title>
        
        <meta charset = "UTF-8">
         <!--For mobile viewport proper resizing-->
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <!--Google verification -->
        <meta name="google-site-verification" content="onS_i1AOmpRlObgSmQ5S3Hc2vWXqpaGcGb6_Nc0w6-s" />
        <!-- Favicon -->
        <link rel="icon" type="image/x-icon" href="../../../../website_resources/global/images/favicon.ico"/>
        
        <!--Global resources-->
        <link rel="stylesheet" href="../../../../website_resources/global/css/global.css"/>
        
        <!--Local resources-->
        <link rel="stylesheet" href="./styles/global.css"/>
        <link rel="stylesheet" href="./styles/settings_style.css" />
        <link rel="stylesheet" href="./styles/portfolio_style.css"/>
        <script src="./scripts/auth_frontend_script.js"></script>
    </head>
    <body>
        <header id="page_header">
            <!--The content will be added from javascript-->
        </header>
        <div id="page_block">
            <div id="app_page_content">
                <div id="unlockModal" class="modal hidden">
                    <div class="modal-content">
                        <h2>üîí Unlock Your Vault</h2>
                        <p>For security reasons, please re-enter your password to access your encrypted data.</p>

                        <input type="password" id="unlockPassword" placeholder="Enter your password" />
                    
                        <button id="unlockBtn">Unlock</button>
                        <p id="unlockError" class="error"></p>
                    </div>
                </div>
                <div id="form_container">
                    <div id="site_title">Note Taking App <sup> -> Settings </sup></div><br>
                    <div class="app-nav">
                        <a href="./app.html">üè† Home</a>
                        <a href="./settings.html" class="selected_link">‚öôÔ∏è Settings</a>
                        <a href="./logout.html">üö™ Logout</a>
                        
                    </div>
                    <form id="updateEmailForm">
                        <h3>Change Email</h3>
                        <label for="newEmail">New Email:</label>
                        <input type="email" id="newEmail" required />
                        <label for="userPassword">Current Password:</label>
                        <input type="password" id="userPassword" required />
                        <button type="submit" class="page_button">Update Email</button>
                        <div id="emailMessage"></div>
                    </form>

                    <hr />

                    <form id="updatePasswordForm">
                        <h3>Change Password</h3>
                        <label for="currentPassword">Current Password:</label>
                        <input type="password" id="currentPassword" required />
                        <label for="newPassword">New Password:</label>
                        <input type="password" id="newPassword" required />
                        <label for="confirmPassword">Confirm New Password:</label>
                        <input type="password" id="confirmPassword" required />
                        <button type="submit" class="page_button">Update Password</button>
                      <div id="passwordMessage"></div>
                    </form>
                </div>
            </div>
        </div>
        <footer id="page_footer">
            <!--The content will be added from javascript-->
        </footer> 
        <!--The frontend script should be added/loaded at the end, because we need the div elements to exist in the document-->
          <script src="./scripts/crypto_utils.js"></script>
          <script src="./scripts/global_functions.js"></script>
          <script src="./scripts/settings_frontend_script.js"></script>
        
        <!--Global resources-->
        <script src="../../../../website_resources/global/scripts/global_script.js"></script>
    </body>
</html>
